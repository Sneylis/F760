# F760
  Это мой эсперимент и практика по разработке RED team инструментов по обхожу NGFW в частонсти попытка обойти правила FW в купе с DPI,IDS/IPS системой
Концепция ключает в себя на сколько это возможно эмулировать общения HTTP, в контексте RAT

1 Использования Long Poling вместо обычных socket соеденинений которые зачастую используються для связи beacon и C2
  С таким типом соединения есть ограничения и некоторые неудобства, однако они позволяют лучше обойти СЗИ за счёт того, что socket в целом более подозрителен за счёт долгого и постоянного HTTP соеденинения

  В моём случаем мы имеем некоторые паузы перед отправкой запроса а так же использования Long Poling соединения позволит чуть лучше эмулировать работу клиента с веб сервером
  отправка Payload происходит от ответа сервера в HTTP, клиент с каким то промежутком эмулирует запрос на веб сервер на разные директории, и после получает новую команду в Директории "/getCommand", после выполнения отправляет поста запрос,
  содержащий в data ответ полученный от выполенния команды сервера

  Из минусов могу выделить, то что сервер зачастую также уходит в ожидание, и мы не сразу получаем 

2 И сопльзования Body HTTP Для передачи данных, с структуре такого соединения мы можем как угодно шифровать данные, что поможет обойти IDS/IPS а так же DPI, как пример мы можем использовать такой алгоритм:
  
  STRING - UNICODE - BASE64 - Заменить 1/2 части строки друг с другом или же использовать свои алгоритмы шифрования по ключу, но при этом нужно что бы клиент знал какой ключ

3 Использования HTTPS позволит зашифровать весь трафик который будет между клиентом и сервером, и будет достаточно защищён при условии отсутсвия SSL inspection

Могу предположить что более серъёзные системы защиты могут обнаружить аномальное поведение

# Результаты
![CNCT](https://github.com/user-attachments/assets/40220cab-ed11-47ce-9d25-117cea9fa677)

![WS](https://github.com/user-attachments/assets/b2d5b099-db2a-4363-8d50-d914ae633586)

# bypass

1 Virus Total

я никак не оббуфицировал и не прятал клиентское приложение в .exe, и понимаю что тригер произошёл из за функции Exec, однако результат в 14 меня даже удивил, например Kasperski не посчитал клиент опасным)
![VirusTotal](https://github.com/user-attachments/assets/9d4fe477-6fbd-4ea6-98a5-40d3f16a34ca)

# to-do list
1 привести продукт в болле адекватный вид и добавить функции модульности для более лёгкого улучшения

2 тестирование на DPI

3 разработка интерфейса сервера

4 плагин создания оболочки клиентской части, для обхода AV

ИСПОЛЬЗОВАНИЕ ПРОЕКТА В НЕПРАВОМЕРНЫХ ЦЕЛЯХ ВАША ЗАБОТА И ОТВЕСТВЕННОСТЬ
